import{_ as a,o,c as n,ag as l}from"./chunks/framework.BcBuEkoe.js";const D=JSON.parse('{"title":"","description":"","frontmatter":{},"headers":[],"relativePath":"development/gcloud/identity_federation.md","filePath":"development/gcloud/identity_federation.md","lastUpdated":1768858829000}'),e={name:"development/gcloud/identity_federation.md"};function p(t,s,r,c,F,i){return o(),n("div",null,s[0]||(s[0]=[l(`<h2 id="gcp-workload-identity-federation-setup" tabindex="-1">GCP Workload Identity Federation Setup <a class="header-anchor" href="#gcp-workload-identity-federation-setup" aria-label="Permalink to &quot;GCP Workload Identity Federation Setup&quot;">​</a></h2><p>Run these commands in your terminal (make sure you have gcloud CLI installed and authenticated):</p><h2 id="set-your-variables" tabindex="-1">Set your variables <a class="header-anchor" href="#set-your-variables" aria-label="Permalink to &quot;Set your variables&quot;">​</a></h2><div class="language-sh"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki material-theme vp-code" tabindex="0"><code><span class="line"><span style="color:#C792EA;">export</span><span style="color:#EEFFFF;"> PROJECT_ID</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">my-gcp-project</span><span style="color:#89DDFF;">&quot;</span><span style="color:#546E7A;font-style:italic;">  # Your GCP project ID</span></span>
<span class="line"><span style="color:#C792EA;">export</span><span style="color:#EEFFFF;"> GITHUB_ORG</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">rytsh</span><span style="color:#89DDFF;">&quot;</span><span style="color:#546E7A;font-style:italic;">        # Your GitHub username or organization</span></span>
<span class="line"><span style="color:#C792EA;">export</span><span style="color:#EEFFFF;"> GITHUB_REPO</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">bir</span><span style="color:#89DDFF;">&quot;</span><span style="color:#546E7A;font-style:italic;">         # Your repository name</span></span>
<span class="line"><span style="color:#C792EA;">export</span><span style="color:#EEFFFF;"> SERVICE_ACCOUNT_NAME</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">github-actions</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#C792EA;">export</span><span style="color:#EEFFFF;"> POOL_NAME</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">github-pool</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#C792EA;">export</span><span style="color:#EEFFFF;"> PROVIDER_NAME</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">github-provider</span><span style="color:#89DDFF;">&quot;</span></span></code></pre></div><h2 id="_1-enable-required-apis" tabindex="-1">1. Enable required APIs <a class="header-anchor" href="#_1-enable-required-apis" aria-label="Permalink to &quot;1. Enable required APIs&quot;">​</a></h2><div class="language-sh"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki material-theme vp-code" tabindex="0"><code><span class="line"><span style="color:#FFCB6B;">gcloud</span><span style="color:#C3E88D;"> services</span><span style="color:#C3E88D;"> enable</span><span style="color:#C3E88D;"> iamcredentials.googleapis.com</span><span style="color:#C3E88D;"> --project=</span><span style="color:#89DDFF;">&quot;\${</span><span style="color:#EEFFFF;">PROJECT_ID</span><span style="color:#89DDFF;">}&quot;</span></span>
<span class="line"><span style="color:#FFCB6B;">gcloud</span><span style="color:#C3E88D;"> services</span><span style="color:#C3E88D;"> enable</span><span style="color:#C3E88D;"> run.googleapis.com</span><span style="color:#C3E88D;"> --project=</span><span style="color:#89DDFF;">&quot;\${</span><span style="color:#EEFFFF;">PROJECT_ID</span><span style="color:#89DDFF;">}&quot;</span></span></code></pre></div><h2 id="_2-create-a-service-account-for-github-actions" tabindex="-1">2. Create a Service Account for GitHub Actions <a class="header-anchor" href="#_2-create-a-service-account-for-github-actions" aria-label="Permalink to &quot;2. Create a Service Account for GitHub Actions&quot;">​</a></h2><div class="language-sh"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki material-theme vp-code" tabindex="0"><code><span class="line"><span style="color:#FFCB6B;">gcloud</span><span style="color:#C3E88D;"> iam</span><span style="color:#C3E88D;"> service-accounts</span><span style="color:#C3E88D;"> create</span><span style="color:#89DDFF;"> &quot;\${</span><span style="color:#EEFFFF;">SERVICE_ACCOUNT_NAME</span><span style="color:#89DDFF;">}&quot;</span><span style="color:#EEFFFF;"> \\</span></span>
<span class="line"><span style="color:#C3E88D;">  --display-name=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">GitHub Actions</span><span style="color:#89DDFF;">&quot;</span><span style="color:#EEFFFF;"> \\</span></span>
<span class="line"><span style="color:#C3E88D;">  --project=</span><span style="color:#89DDFF;">&quot;\${</span><span style="color:#EEFFFF;">PROJECT_ID</span><span style="color:#89DDFF;">}&quot;</span></span></code></pre></div><h2 id="_3-grant-cloud-run-admin-role-to-the-service-account" tabindex="-1">3. Grant Cloud Run Admin role to the service account <a class="header-anchor" href="#_3-grant-cloud-run-admin-role-to-the-service-account" aria-label="Permalink to &quot;3. Grant Cloud Run Admin role to the service account&quot;">​</a></h2><div class="language-sh"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki material-theme vp-code" tabindex="0"><code><span class="line"><span style="color:#FFCB6B;">gcloud</span><span style="color:#C3E88D;"> projects</span><span style="color:#C3E88D;"> add-iam-policy-binding</span><span style="color:#89DDFF;"> &quot;\${</span><span style="color:#EEFFFF;">PROJECT_ID</span><span style="color:#89DDFF;">}&quot;</span><span style="color:#EEFFFF;"> \\</span></span>
<span class="line"><span style="color:#C3E88D;">  --member=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">serviceAccount:</span><span style="color:#89DDFF;">\${</span><span style="color:#EEFFFF;">SERVICE_ACCOUNT_NAME</span><span style="color:#89DDFF;">}</span><span style="color:#C3E88D;">@</span><span style="color:#89DDFF;">\${</span><span style="color:#EEFFFF;">PROJECT_ID</span><span style="color:#89DDFF;">}</span><span style="color:#C3E88D;">.iam.gserviceaccount.com</span><span style="color:#89DDFF;">&quot;</span><span style="color:#EEFFFF;"> \\</span></span>
<span class="line"><span style="color:#C3E88D;">  --role=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">roles/run.admin</span><span style="color:#89DDFF;">&quot;</span></span></code></pre></div><h2 id="_4-grant-service-account-user-role-required-to-deploy-to-cloud-run" tabindex="-1">4. Grant Service Account User role (required to deploy to Cloud Run) <a class="header-anchor" href="#_4-grant-service-account-user-role-required-to-deploy-to-cloud-run" aria-label="Permalink to &quot;4. Grant Service Account User role (required to deploy to Cloud Run)&quot;">​</a></h2><div class="language-sh"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki material-theme vp-code" tabindex="0"><code><span class="line"><span style="color:#FFCB6B;">gcloud</span><span style="color:#C3E88D;"> projects</span><span style="color:#C3E88D;"> add-iam-policy-binding</span><span style="color:#89DDFF;"> &quot;\${</span><span style="color:#EEFFFF;">PROJECT_ID</span><span style="color:#89DDFF;">}&quot;</span><span style="color:#EEFFFF;"> \\</span></span>
<span class="line"><span style="color:#C3E88D;">  --member=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">serviceAccount:</span><span style="color:#89DDFF;">\${</span><span style="color:#EEFFFF;">SERVICE_ACCOUNT_NAME</span><span style="color:#89DDFF;">}</span><span style="color:#C3E88D;">@</span><span style="color:#89DDFF;">\${</span><span style="color:#EEFFFF;">PROJECT_ID</span><span style="color:#89DDFF;">}</span><span style="color:#C3E88D;">.iam.gserviceaccount.com</span><span style="color:#89DDFF;">&quot;</span><span style="color:#EEFFFF;"> \\</span></span>
<span class="line"><span style="color:#C3E88D;">  --role=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">roles/iam.serviceAccountUser</span><span style="color:#89DDFF;">&quot;</span></span></code></pre></div><h2 id="_5-create-workload-identity-pool" tabindex="-1">5. Create Workload Identity Pool <a class="header-anchor" href="#_5-create-workload-identity-pool" aria-label="Permalink to &quot;5. Create Workload Identity Pool&quot;">​</a></h2><div class="language-sh"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki material-theme vp-code" tabindex="0"><code><span class="line"><span style="color:#FFCB6B;">gcloud</span><span style="color:#C3E88D;"> iam</span><span style="color:#C3E88D;"> workload-identity-pools</span><span style="color:#C3E88D;"> create</span><span style="color:#89DDFF;"> &quot;\${</span><span style="color:#EEFFFF;">POOL_NAME</span><span style="color:#89DDFF;">}&quot;</span><span style="color:#EEFFFF;"> \\</span></span>
<span class="line"><span style="color:#C3E88D;">  --location=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">global</span><span style="color:#89DDFF;">&quot;</span><span style="color:#EEFFFF;"> \\</span></span>
<span class="line"><span style="color:#C3E88D;">  --display-name=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">GitHub Actions Pool</span><span style="color:#89DDFF;">&quot;</span><span style="color:#EEFFFF;"> \\</span></span>
<span class="line"><span style="color:#C3E88D;">  --project=</span><span style="color:#89DDFF;">&quot;\${</span><span style="color:#EEFFFF;">PROJECT_ID</span><span style="color:#89DDFF;">}&quot;</span></span></code></pre></div><h2 id="_6-create-workload-identity-provider-for-github-with-required-attribute-condition" tabindex="-1">6. Create Workload Identity Provider for GitHub (with required attribute condition) <a class="header-anchor" href="#_6-create-workload-identity-provider-for-github-with-required-attribute-condition" aria-label="Permalink to &quot;6. Create Workload Identity Provider for GitHub (with required attribute condition)&quot;">​</a></h2><div class="language-sh"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki material-theme vp-code" tabindex="0"><code><span class="line"><span style="color:#FFCB6B;">gcloud</span><span style="color:#C3E88D;"> iam</span><span style="color:#C3E88D;"> workload-identity-pools</span><span style="color:#C3E88D;"> providers</span><span style="color:#C3E88D;"> create-oidc</span><span style="color:#89DDFF;"> &quot;\${</span><span style="color:#EEFFFF;">PROVIDER_NAME</span><span style="color:#89DDFF;">}&quot;</span><span style="color:#EEFFFF;"> \\</span></span>
<span class="line"><span style="color:#C3E88D;">  --location=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">global</span><span style="color:#89DDFF;">&quot;</span><span style="color:#EEFFFF;"> \\</span></span>
<span class="line"><span style="color:#C3E88D;">  --workload-identity-pool=</span><span style="color:#89DDFF;">&quot;\${</span><span style="color:#EEFFFF;">POOL_NAME</span><span style="color:#89DDFF;">}&quot;</span><span style="color:#EEFFFF;"> \\</span></span>
<span class="line"><span style="color:#C3E88D;">  --display-name=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">GitHub Provider</span><span style="color:#89DDFF;">&quot;</span><span style="color:#EEFFFF;"> \\</span></span>
<span class="line"><span style="color:#C3E88D;">  --attribute-mapping=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">google.subject=assertion.sub,attribute.actor=assertion.actor,attribute.repository=assertion.repository</span><span style="color:#89DDFF;">&quot;</span><span style="color:#EEFFFF;"> \\</span></span>
<span class="line"><span style="color:#C3E88D;">  --attribute-condition=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">assertion.repository==&#39;</span><span style="color:#89DDFF;">\${</span><span style="color:#EEFFFF;">GITHUB_ORG</span><span style="color:#89DDFF;">}</span><span style="color:#C3E88D;">/</span><span style="color:#89DDFF;">\${</span><span style="color:#EEFFFF;">GITHUB_REPO</span><span style="color:#89DDFF;">}</span><span style="color:#C3E88D;">&#39;</span><span style="color:#89DDFF;">&quot;</span><span style="color:#EEFFFF;"> \\</span></span>
<span class="line"><span style="color:#C3E88D;">  --issuer-uri=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">https://token.actions.githubusercontent.com</span><span style="color:#89DDFF;">&quot;</span><span style="color:#EEFFFF;"> \\</span></span>
<span class="line"><span style="color:#C3E88D;">  --project=</span><span style="color:#89DDFF;">&quot;\${</span><span style="color:#EEFFFF;">PROJECT_ID</span><span style="color:#89DDFF;">}&quot;</span></span></code></pre></div><h2 id="_7-allow-github-repo-to-impersonate-the-service-account" tabindex="-1">7. Allow GitHub repo to impersonate the service account <a class="header-anchor" href="#_7-allow-github-repo-to-impersonate-the-service-account" aria-label="Permalink to &quot;7. Allow GitHub repo to impersonate the service account&quot;">​</a></h2><div class="language-sh"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki material-theme vp-code" tabindex="0"><code><span class="line"><span style="color:#FFCB6B;">gcloud</span><span style="color:#C3E88D;"> iam</span><span style="color:#C3E88D;"> service-accounts</span><span style="color:#C3E88D;"> add-iam-policy-binding</span><span style="color:#EEFFFF;"> \\</span></span>
<span class="line"><span style="color:#89DDFF;">  &quot;\${</span><span style="color:#EEFFFF;">SERVICE_ACCOUNT_NAME</span><span style="color:#89DDFF;">}</span><span style="color:#C3E88D;">@</span><span style="color:#89DDFF;">\${</span><span style="color:#EEFFFF;">PROJECT_ID</span><span style="color:#89DDFF;">}</span><span style="color:#C3E88D;">.iam.gserviceaccount.com</span><span style="color:#89DDFF;">&quot;</span><span style="color:#EEFFFF;"> \\</span></span>
<span class="line"><span style="color:#C3E88D;">  --project=</span><span style="color:#89DDFF;">&quot;\${</span><span style="color:#EEFFFF;">PROJECT_ID</span><span style="color:#89DDFF;">}&quot;</span><span style="color:#EEFFFF;"> \\</span></span>
<span class="line"><span style="color:#C3E88D;">  --role=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">roles/iam.workloadIdentityUser</span><span style="color:#89DDFF;">&quot;</span><span style="color:#EEFFFF;"> \\</span></span>
<span class="line"><span style="color:#C3E88D;">  --member=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">principalSet://iam.googleapis.com/projects/</span><span style="color:#89DDFF;">$(</span><span style="color:#FFCB6B;">gcloud</span><span style="color:#C3E88D;"> projects describe </span><span style="color:#89DDFF;">\${</span><span style="color:#EEFFFF;">PROJECT_ID</span><span style="color:#89DDFF;">}</span><span style="color:#C3E88D;"> --format=</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">value(projectNumber)</span><span style="color:#89DDFF;">&#39;)</span><span style="color:#C3E88D;">/locations/global/workloadIdentityPools/</span><span style="color:#89DDFF;">\${</span><span style="color:#EEFFFF;">POOL_NAME</span><span style="color:#89DDFF;">}</span><span style="color:#C3E88D;">/attribute.repository/</span><span style="color:#89DDFF;">\${</span><span style="color:#EEFFFF;">GITHUB_ORG</span><span style="color:#89DDFF;">}</span><span style="color:#C3E88D;">/</span><span style="color:#89DDFF;">\${</span><span style="color:#EEFFFF;">GITHUB_REPO</span><span style="color:#89DDFF;">}&quot;</span></span></code></pre></div><h2 id="_8-grant-artifact-registry-reader-role-to-the-service-account" tabindex="-1">8. Grant Artifact Registry Reader role to the service account <a class="header-anchor" href="#_8-grant-artifact-registry-reader-role-to-the-service-account" aria-label="Permalink to &quot;8. Grant Artifact Registry Reader role to the service account&quot;">​</a></h2><div class="language-sh"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki material-theme vp-code" tabindex="0"><code><span class="line"><span style="color:#FFCB6B;">gcloud</span><span style="color:#C3E88D;"> projects</span><span style="color:#C3E88D;"> add-iam-policy-binding</span><span style="color:#89DDFF;"> &quot;\${</span><span style="color:#EEFFFF;">PROJECT_ID</span><span style="color:#89DDFF;">}&quot;</span><span style="color:#EEFFFF;"> \\</span></span>
<span class="line"><span style="color:#C3E88D;">  --member=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">serviceAccount:</span><span style="color:#89DDFF;">\${</span><span style="color:#EEFFFF;">SERVICE_ACCOUNT_NAME</span><span style="color:#89DDFF;">}</span><span style="color:#C3E88D;">@</span><span style="color:#89DDFF;">\${</span><span style="color:#EEFFFF;">PROJECT_ID</span><span style="color:#89DDFF;">}</span><span style="color:#C3E88D;">.iam.gserviceaccount.com</span><span style="color:#89DDFF;">&quot;</span><span style="color:#EEFFFF;"> \\</span></span>
<span class="line"><span style="color:#C3E88D;">  --role=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">roles/artifactregistry.reader</span><span style="color:#89DDFF;">&quot;</span></span></code></pre></div><h2 id="_9-get-the-values-for-github-secrets" tabindex="-1">9. Get the values for GitHub secrets <a class="header-anchor" href="#_9-get-the-values-for-github-secrets" aria-label="Permalink to &quot;9. Get the values for GitHub secrets&quot;">​</a></h2><div class="language-sh"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki material-theme vp-code" tabindex="0"><code><span class="line"><span style="color:#82AAFF;">echo</span><span style="color:#89DDFF;"> &quot;&quot;</span></span>
<span class="line"><span style="color:#82AAFF;">echo</span><span style="color:#89DDFF;"> &quot;</span><span style="color:#C3E88D;">=== Add these as GitHub Repository Secrets ===</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#82AAFF;">echo</span><span style="color:#89DDFF;"> &quot;&quot;</span></span>
<span class="line"><span style="color:#82AAFF;">echo</span><span style="color:#89DDFF;"> &quot;</span><span style="color:#C3E88D;">GCP_SERVICE_ACCOUNT:</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#82AAFF;">echo</span><span style="color:#89DDFF;"> &quot;\${</span><span style="color:#EEFFFF;">SERVICE_ACCOUNT_NAME</span><span style="color:#89DDFF;">}</span><span style="color:#C3E88D;">@</span><span style="color:#89DDFF;">\${</span><span style="color:#EEFFFF;">PROJECT_ID</span><span style="color:#89DDFF;">}</span><span style="color:#C3E88D;">.iam.gserviceaccount.com</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#82AAFF;">echo</span><span style="color:#89DDFF;"> &quot;&quot;</span></span>
<span class="line"><span style="color:#82AAFF;">echo</span><span style="color:#89DDFF;"> &quot;</span><span style="color:#C3E88D;">GCP_WORKLOAD_IDENTITY_PROVIDER:</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#82AAFF;">echo</span><span style="color:#89DDFF;"> &quot;</span><span style="color:#C3E88D;">projects/</span><span style="color:#89DDFF;">$(</span><span style="color:#FFCB6B;">gcloud</span><span style="color:#C3E88D;"> projects describe </span><span style="color:#89DDFF;">\${</span><span style="color:#EEFFFF;">PROJECT_ID</span><span style="color:#89DDFF;">}</span><span style="color:#C3E88D;"> --format=</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">value(projectNumber)</span><span style="color:#89DDFF;">&#39;)</span><span style="color:#C3E88D;">/locations/global/workloadIdentityPools/</span><span style="color:#89DDFF;">\${</span><span style="color:#EEFFFF;">POOL_NAME</span><span style="color:#89DDFF;">}</span><span style="color:#C3E88D;">/providers/</span><span style="color:#89DDFF;">\${</span><span style="color:#EEFFFF;">PROVIDER_NAME</span><span style="color:#89DDFF;">}&quot;</span></span></code></pre></div><h2 id="_10-example-github-actions-workflow-snippet" tabindex="-1">10. Example GitHub Actions workflow snippet <a class="header-anchor" href="#_10-example-github-actions-workflow-snippet" aria-label="Permalink to &quot;10. Example GitHub Actions workflow snippet&quot;">​</a></h2><div class="language-yaml"><button title="Copy Code" class="copy"></button><span class="lang">yaml</span><pre class="shiki material-theme vp-code" tabindex="0"><code><span class="line"><span style="color:#89DDFF;">      -</span><span style="color:#F07178;"> name</span><span style="color:#89DDFF;">:</span><span style="color:#C3E88D;"> Authenticate to Google Cloud</span></span>
<span class="line"><span style="color:#F07178;">        uses</span><span style="color:#89DDFF;">:</span><span style="color:#C3E88D;"> google-github-actions/auth@v2</span></span>
<span class="line"><span style="color:#F07178;">        with</span><span style="color:#89DDFF;">:</span></span>
<span class="line"><span style="color:#F07178;">          workload_identity_provider</span><span style="color:#89DDFF;">:</span><span style="color:#C3E88D;"> \${{ secrets.GCP_WORKLOAD_IDENTITY_PROVIDER }}</span></span>
<span class="line"><span style="color:#F07178;">          service_account</span><span style="color:#89DDFF;">:</span><span style="color:#C3E88D;"> \${{ secrets.GCP_SERVICE_ACCOUNT }}</span></span>
<span class="line"><span style="color:#89DDFF;">      -</span><span style="color:#F07178;"> name</span><span style="color:#89DDFF;">:</span><span style="color:#C3E88D;"> Deploy to Cloud Run</span></span>
<span class="line"><span style="color:#F07178;">        uses</span><span style="color:#89DDFF;">:</span><span style="color:#C3E88D;"> google-github-actions/deploy-cloudrun@v2</span></span>
<span class="line"><span style="color:#F07178;">        with</span><span style="color:#89DDFF;">:</span></span>
<span class="line"><span style="color:#F07178;">          service</span><span style="color:#89DDFF;">:</span><span style="color:#C3E88D;"> bir-api</span></span>
<span class="line"><span style="color:#F07178;">          region</span><span style="color:#89DDFF;">:</span><span style="color:#C3E88D;"> \${{ secrets.GCP_REGION }}</span></span>
<span class="line"><span style="color:#F07178;">          image</span><span style="color:#89DDFF;">:</span><span style="color:#C3E88D;"> \${{ secrets.GCP_ARTIFACT_REGISTRY }}/ghcr.io/rytsh/bir/api:\${{ steps.version.outputs.VERSION }}</span></span></code></pre></div>`,24)]))}const u=a(e,[["render",p]]);export{D as __pageData,u as default};
